p8105\_hw2\_sl4657
================

# Problem 1

## Use Mr.Trash.Wheel sheet

``` r
library(tidyverse)
```

    ## ── Attaching packages ───────────────────────────────────────── tidyverse 1.2.1 ──

    ## ✔ ggplot2 3.2.1     ✔ purrr   0.3.2
    ## ✔ tibble  2.1.3     ✔ dplyr   0.8.3
    ## ✔ tidyr   1.0.0     ✔ stringr 1.4.0
    ## ✔ readr   1.3.1     ✔ forcats 0.4.0

    ## ── Conflicts ──────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()

``` r
library(readxl)
library(dplyr)
mtw_data = 
  read_excel(
    "data files/HealthyHarborWaterWheelTotals2018-7-28.xlsx", sheet=1) %>% 
  janitor::clean_names() %>% 
  filter(!is.na(dumpster))%>% 
  select(-15) %>% 
  mutate(sports_balls = round(sports_balls, digits = 0)) %>% 
  mutate(sports_balls = as.integer(sports_balls)) %>% view
```

    ## New names:
    ## * `` -> ...15

``` r
p8_data = 
  readxl::read_excel(
    "./data files/HealthyHarborWaterWheelTotals2018-7-28.xlsx", sheet=3,range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  drop_na() %>% 
  mutate(year= "2018") %>% view

p7_data = 
  readxl::read_excel(
    "./data files/HealthyHarborWaterWheelTotals2018-7-28.xlsx", sheet=4,range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  mutate(year= "2017") %>% view

p78_data=
  bind_rows(p7_data, p8_data) %>% 
  mutate(month = month.abb[month]) %>% 
  select(year, everything()) %>% view
```

The number of observations in 2018 precipitation dataset is 7, in 2017
precipitation dataset is 12, key variables are year, month. The total
precipitation in 2018 is 23.5, the median number of sports balls in a
dumpster in 2017 is 8.

# Problem 2

## Use the FiveThirtyEight data

``` r
pols_data = 
  read_csv(file = "./data files/pols-month.csv") %>% 
  separate(col = mon, into = c("year", "month", "day"), "-") %>%
  mutate(month= recode(month, `01`= "Jan", `02`= "Feb", `03`= "Mar", `04`= "Apr", `05`= "May", `06`= "Jun", `07`= "Jul", `08`= "Aug", `09`= "Sep", `10`= "Oct", `11`= "Nov", `12`= "Dec")) %>% 
  mutate(president = recode(prez_gop, `0` ="dem", `1` = "gop_1", `2`= "gop_2")) %>% 
  select(-day,- prez_gop, -prez_dem) %>% view
```

    ## Parsed with column specification:
    ## cols(
    ##   mon = col_date(format = ""),
    ##   prez_gop = col_double(),
    ##   gov_gop = col_double(),
    ##   sen_gop = col_double(),
    ##   rep_gop = col_double(),
    ##   prez_dem = col_double(),
    ##   gov_dem = col_double(),
    ##   sen_dem = col_double(),
    ##   rep_dem = col_double()
    ## )

``` r
snp_data =
  read_csv(file = "./data files/snp.csv") %>% 
  separate(col = date, into = c("month", "day", "year"), "/") %>% 
  mutate(month= recode(month, `1`= "Jan", `2`= "Feb", `3`= "Mar", `4`= "Apr", `5`= "May", `6`= "Jun", `7`= "Jul", `8`= "Aug", `9`= "Sep", `10`= "Oct", `11`= "Nov", `12`= "Dec")) %>% 
  arrange(year, month) %>% 
  select(year, month, everything()) %>% 
  select(-day) %>% view
```

    ## Parsed with column specification:
    ## cols(
    ##   date = col_character(),
    ##   close = col_double()
    ## )

``` r
unem_data =
  read_csv(file = "./data files/unemployment.csv") %>% 
  pivot_longer(
    Jan: Dec,
    names_to = "month",
    values_to = "unem_perc"
  ) %>% 
  janitor::clean_names() %>% view
```

    ## Parsed with column specification:
    ## cols(
    ##   Year = col_double(),
    ##   Jan = col_double(),
    ##   Feb = col_double(),
    ##   Mar = col_double(),
    ##   Apr = col_double(),
    ##   May = col_double(),
    ##   Jun = col_double(),
    ##   Jul = col_double(),
    ##   Aug = col_double(),
    ##   Sep = col_double(),
    ##   Oct = col_double(),
    ##   Nov = col_double(),
    ##   Dec = col_double()
    ## )

``` r
s_p = 
  inner_join(snp_data, pols_data, by= c("year", "month")) %>% 
  mutate(year= as.double(year))

s_p_u=
  full_join(s_p, unem_data, by= c("year", "month"))
```
